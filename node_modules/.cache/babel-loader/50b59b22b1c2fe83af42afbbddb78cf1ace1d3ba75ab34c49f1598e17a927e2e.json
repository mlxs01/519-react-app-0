{"ast":null,"code":"var _jsxFileName = \"/Users/sun/Dropbox/My Mac (Michelles-Air)/Desktop/BU/2023/diagnostic-test-mlxs01/src/App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport Grid from \"@mui/material/Unstable_Grid2\";\nimport { Select, Typography, MenuItem } from \"@mui/material\";\n//import { calcAllFinalGrade } from \"./utils/calculate_grade\";\n/**\n * You will find globals from this file useful!\n */\nimport { MY_BU_ID, BASE_API_URL, SEMESTER, GET_DEFAULT_HEADERS } from \"./globals\";\nimport GradeTable from \"./components/GradeTable\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  // You will need to use more of these!\n  const [currClassId, setCurrClassId] = useState(\"\");\n  const [currClassName, setCurrClassName] = useState(\"\");\n  const [currData, setData] = useState([]);\n  const [allGrades, setGrades] = useState([]);\n  const [allClassIds, setClassIds] = useState([]);\n  const [allClassNames, setClassNames] = useState([]);\n  const [currFilteredStudents, setFilteredStudents] = useState([]);\n  const [currStudentNames, setStudentNames] = useState([]);\n  const [currFilteredAssignments, setFilteredAssignments] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  /**\n   * This is JUST an example of how you might fetch some data(with a different API).\n   * As you might notice, this does not show up in your console right now.\n   * This is because the function isn't called by anything!\n   *\n   * You will need to lookup how to fetch data from an API using React.js\n   * Something you might want to look at is the useEffect hook.\n   *\n   * The useEffect hook will be useful for populating the data in the dropdown box.\n   * You will want to make sure that the effect is only called once at component mount.\n   *\n   * You will also need to explore the use of async/await.\n   *\n   */\n  useEffect(() => {\n    const fetchData = async () => {\n      // fetch the list of classes\n      const classListResponse = await fetch(`${BASE_API_URL}/class/listBySemester/${SEMESTER}?buid=${MY_BU_ID}`, {\n        method: \"GET\",\n        headers: GET_DEFAULT_HEADERS()\n      });\n      const classListData = await classListResponse.json();\n\n      // pull out class Ids and class Names\n      const classIds = classListData.map(item => item.classId);\n      const classNames = classListData.map(item => item.title);\n      setClassIds(classIds);\n      setClassNames(classNames);\n    };\n    fetchData().then(() => {\n      setIsLoading(false);\n    });\n  }, []);\n  useEffect(() => {\n    if (currClassId !== \"\") {\n      console.log(currClassId, currClassName);\n      const fetchStudents = async () => {\n        const res = await fetch(`${BASE_API_URL}/class/listStudents/${currClassId}?buid=${MY_BU_ID}`, {\n          method: \"GET\",\n          headers: GET_DEFAULT_HEADERS()\n        });\n        const json = await res.json();\n        setFilteredStudents(json);\n      };\n      const fetchAssignments = async () => {\n        const res = await fetch(`${BASE_API_URL}/class/listAssignments/${currClassId}?buid=${MY_BU_ID}`, {\n          method: \"GET\",\n          headers: GET_DEFAULT_HEADERS()\n        });\n        const json = await res.json();\n        const filteredValues = json.map(item => item.weight);\n        setFilteredAssignments(filteredValues);\n      };\n\n      // Fetch students and assignments\n      fetchAssignments();\n      fetchStudents();\n    }\n  }, [currClassId, currClassName]);\n  useEffect(() => {\n    if (currFilteredStudents.length > 0 && currFilteredAssignments.length > 0) {\n      const fetchAndSetGrades = async () => {\n        const grades = await calcAllGrades();\n        setGrades(grades);\n      };\n      const fetchStudentNamesAndSetNames = async () => {\n        const studentNames = await Promise.all(currFilteredStudents.map(fetchStudentNames));\n        setStudentNames(studentNames);\n      };\n\n      // Fetch and set student names\n      fetchStudentNamesAndSetNames().then(() => {\n        // After setting student names, fetch and set grades\n        fetchAndSetGrades();\n      });\n    }\n  }, [currFilteredStudents, currFilteredAssignments]);\n  useEffect(() => {\n    if (allGrades.length > 0) {\n      // Update student data here\n      const updatedStudentData = allGrades.map((grade, index) => {\n        const studentId = currFilteredStudents[index];\n        const studentName = currStudentNames[index];\n        return createData(studentId, studentName, currClassId, currClassName, SEMESTER, grade);\n      });\n      setData(updatedStudentData);\n      setIsLoading(false);\n    }\n  }, [allGrades, currFilteredStudents, currStudentNames, currClassId, currClassName]);\n  const fetchStudentNames = async student => {\n    const res = await fetch(`${BASE_API_URL}/student/GetById/${student}?buid=${MY_BU_ID}`, {\n      method: \"GET\",\n      headers: GET_DEFAULT_HEADERS()\n    });\n    const json = await res.json();\n    const filteredData = json[0].name;\n    return filteredData;\n  };\n  const fetchStudentGrades = async student => {\n    const res = await fetch(`${BASE_API_URL}/student/listGrades/${student}/${currClassId}?buid=${MY_BU_ID}`, {\n      method: \"GET\",\n      headers: GET_DEFAULT_HEADERS()\n    });\n    const json = await res.json();\n    const gradesObject = json.grades[0];\n    const gradeValues = Object.values(gradesObject).map(Number);\n    return gradeValues;\n  };\n  async function calcAllGrades() {\n    const grades = [];\n    const gradePromises = currFilteredStudents.map(student => fetchStudentGrades(student));\n    const gradeResults = await Promise.all(gradePromises);\n    gradeResults.forEach(gradeValues => {\n      const grade = calcGrade(gradeValues, currFilteredAssignments);\n      grades.push(grade);\n    });\n    console.log(\"All grades calculated:\", grades);\n    return grades;\n  }\n  function calcGrade(grades, weight) {\n    const summing = grades.reduce((accumulator, currentValue, index) => {\n      const product = currentValue * ~~(weight[index] / 100);\n      return accumulator + product;\n    }, 0);\n    return summing;\n  }\n  ;\n\n  /*   function hookUpData(){\n      allGrades.forEach((grade, index) => {\n        const studentId = currFilteredStudents[index];\n        const studentName = currStudentNames[index];\n        const data = createData(studentId, studentName, currClassId, currClassName, SEMESTER, grade);\n        studentData.push(data);\n      });\n    } */\n\n  function createData(studentId, studentName, classId, className, semester, finalGrade) {\n    return {\n      studentId,\n      studnetName: studentName,\n      classId,\n      className,\n      semester,\n      finalGrade\n    };\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      width: \"100vw\",\n      height: \"100vh\"\n    },\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 2,\n      style: {\n        padding: \"1rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        xs: 12,\n        container: true,\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        children: /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h2\",\n          gutterBottom: true,\n          children: \"Spark Assessment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        xs: 12,\n        md: 4,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          gutterBottom: true,\n          children: \"Select a class\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: \"100%\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Select, {\n            fullWidth: true,\n            label: \"Class\",\n            value: currClassName,\n            onChange: event => {\n              const selectedClassName = event.target.value; // Get the selected class name\n              const selectedIndex = allClassNames.indexOf(selectedClassName); // Find the index\n\n              if (selectedIndex !== -1) {\n                setIsLoading(true);\n                setCurrClassId(allClassIds[selectedIndex]);\n                setCurrClassName(selectedClassName);\n              }\n            },\n            children: allClassNames.map((className, index) => /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: className,\n              children: className\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 15\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        xs: 12,\n        md: 8,\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          gutterBottom: true,\n          children: \"Final Grades\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this), isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Loading data...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 25\n        }, this) : \"\", /*#__PURE__*/_jsxDEV(GradeTable, {\n          studentData: currData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 201,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"rrlT+ga7tcIeEVJkGZvVE7yMOSg=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","Grid","Select","Typography","MenuItem","MY_BU_ID","BASE_API_URL","SEMESTER","GET_DEFAULT_HEADERS","GradeTable","App","currClassId","setCurrClassId","currClassName","setCurrClassName","currData","setData","allGrades","setGrades","allClassIds","setClassIds","allClassNames","setClassNames","currFilteredStudents","setFilteredStudents","currStudentNames","setStudentNames","currFilteredAssignments","setFilteredAssignments","isLoading","setIsLoading","fetchData","classListResponse","fetch","method","headers","classListData","json","classIds","map","item","classId","classNames","title","then","console","log","fetchStudents","res","fetchAssignments","filteredValues","weight","length","fetchAndSetGrades","grades","calcAllGrades","fetchStudentNamesAndSetNames","studentNames","Promise","all","fetchStudentNames","updatedStudentData","grade","index","studentId","studentName","createData","student","filteredData","name","fetchStudentGrades","gradesObject","gradeValues","Object","values","Number","gradePromises","gradeResults","forEach","calcGrade","push","summing","reduce","accumulator","currentValue","product","className","semester","finalGrade","studnetName","width","height","padding","event","selectedClassName","target","value","selectedIndex","indexOf"],"sources":["/Users/sun/Dropbox/My Mac (Michelles-Air)/Desktop/BU/2023/diagnostic-test-mlxs01/src/App.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Grid from \"@mui/material/Unstable_Grid2\";\nimport { Select, Typography, MenuItem } from \"@mui/material\";\n//import { calcAllFinalGrade } from \"./utils/calculate_grade\";\n/**\n * You will find globals from this file useful!\n */\nimport { MY_BU_ID, BASE_API_URL, SEMESTER, TOKEN, GET_DEFAULT_HEADERS } from \"./globals\";\nimport { IUniversityClass, IUniversityAssignments, IUniversityGrades, IUniversityStudents } from \"./types/api_types\";\nimport GradeTable from \"./components/GradeTable\";\nimport GradeTableProps from \"./types/api_types\";\n\nfunction App() {\n  // You will need to use more of these!\n  const [currClassId, setCurrClassId] = useState<string>(\"\");\n  const [currClassName, setCurrClassName] = useState<string>(\"\");\n  const [currData, setData] = useState<GradeTableProps[\"studentData\"]>([]);\n  const [allGrades, setGrades] = useState<number[]>([]);\n  const [allClassIds, setClassIds] = useState<string[]>([]);\n  const [allClassNames, setClassNames] = useState<string[]>([]);\n  const [currFilteredStudents, setFilteredStudents] = useState<string[]>([]);\n  const [currStudentNames, setStudentNames] = useState<string[]>([]);\n  const [currFilteredAssignments, setFilteredAssignments] = useState<number[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  /**\n   * This is JUST an example of how you might fetch some data(with a different API).\n   * As you might notice, this does not show up in your console right now.\n   * This is because the function isn't called by anything!\n   *\n   * You will need to lookup how to fetch data from an API using React.js\n   * Something you might want to look at is the useEffect hook.\n   *\n   * The useEffect hook will be useful for populating the data in the dropdown box.\n   * You will want to make sure that the effect is only called once at component mount.\n   *\n   * You will also need to explore the use of async/await.\n   *\n   */\n  useEffect(() => {\n    const fetchData = async () => {\n        // fetch the list of classes\n        const classListResponse = await fetch(\n          `${BASE_API_URL}/class/listBySemester/${SEMESTER}?buid=${MY_BU_ID}`,\n          {\n            method: \"GET\",\n            headers: GET_DEFAULT_HEADERS(),\n          }\n        );\n  \n        const classListData = await classListResponse.json();\n  \n        // pull out class Ids and class Names\n        const classIds = classListData.map((item: IUniversityClass) => item.classId);\n        const classNames = classListData.map((item: IUniversityClass) => item.title);\n\n        setClassIds(classIds);\n        setClassNames(classNames);\n    };\n  \n    fetchData().then(()=> {setIsLoading(false)});\n  }, []);\n\n  useEffect(() => {\n    if (currClassId !== \"\") {\n      console.log(currClassId, currClassName);\n      const fetchStudents = async () => {\n        const res = await fetch(`${BASE_API_URL}/class/listStudents/${currClassId}?buid=${MY_BU_ID}`, {\n          method: \"GET\",\n          headers: GET_DEFAULT_HEADERS()\n        });\n        const json = await res.json();\n        setFilteredStudents(json); \n      };\n  \n      const fetchAssignments = async () => {\n        const res = await fetch(`${BASE_API_URL}/class/listAssignments/${currClassId}?buid=${MY_BU_ID}`, {\n          method: \"GET\",\n          headers: GET_DEFAULT_HEADERS()\n        });\n        const json = await res.json();\n        const filteredValues = json.map((item:IUniversityAssignments) => item.weight);\n        setFilteredAssignments(filteredValues);\n      };\n  \n      // Fetch students and assignments\n      fetchAssignments();\n      fetchStudents();\n    }\n  }, [currClassId, currClassName]);\n  \n  useEffect(() => {\n    if (currFilteredStudents.length > 0 && currFilteredAssignments.length > 0) {\n      const fetchAndSetGrades = async () => {\n        const grades = await calcAllGrades();\n        setGrades(grades);\n      };\n  \n      const fetchStudentNamesAndSetNames = async () => {\n        const studentNames = await Promise.all(currFilteredStudents.map(fetchStudentNames));\n        setStudentNames(studentNames);\n      };\n  \n      // Fetch and set student names\n      fetchStudentNamesAndSetNames().then(() => {\n        // After setting student names, fetch and set grades\n        fetchAndSetGrades();\n      });\n    }\n  }, [currFilteredStudents, currFilteredAssignments]);\n\n  useEffect(() => {\n    if (allGrades.length > 0) {\n      // Update student data here\n      const updatedStudentData = allGrades.map((grade, index) => {\n        const studentId = currFilteredStudents[index];\n        const studentName = currStudentNames[index];\n        return createData(\n          studentId,\n          studentName,\n          currClassId,\n          currClassName,\n          SEMESTER,\n          grade\n        );\n      });\n\n      setData(updatedStudentData);\n      setIsLoading(false);\n    }\n  }, [allGrades, currFilteredStudents, currStudentNames, currClassId, currClassName]);\n\n\n  const fetchStudentNames = async (student: string) => {\n    const res = await fetch(`${BASE_API_URL}/student/GetById/${student}?buid=${MY_BU_ID}`, {\n      method: \"GET\",\n      headers: GET_DEFAULT_HEADERS()\n    });\n    const json = await res.json();\n  \n    const filteredData: string = json[0].name;\n    return filteredData;\n  }; \n\n  const fetchStudentGrades = async (student: string) => {\n    const res = await fetch(`${BASE_API_URL}/student/listGrades/${student}/${currClassId}?buid=${MY_BU_ID}`, {\n      method: \"GET\",\n      headers: GET_DEFAULT_HEADERS()\n    });\n  \n    const json = await res.json();\n    const gradesObject = json.grades[0];\n    const gradeValues: number[] = Object.values(gradesObject).map(Number);\n  \n    return gradeValues\n  };\n\n  async function calcAllGrades() {\n    const grades: number[] = [];\n    const gradePromises = currFilteredStudents.map((student) => fetchStudentGrades(student));\n    \n    const gradeResults = await Promise.all(gradePromises);\n    gradeResults.forEach((gradeValues) => {\n      const grade = calcGrade(gradeValues, currFilteredAssignments);\n      grades.push(grade);\n    });\n  \n    console.log(\"All grades calculated:\", grades);\n    return grades;\n  }\n\n  function calcGrade(grades: number[], weight: number[]) {\n    const summing = grades.reduce((accumulator, currentValue, index) => {\n      const product = currentValue * ~~(weight[index]/100);\n      return accumulator + product;\n    }, 0);\n    return summing;\n  };\n  \n/*   function hookUpData(){\n    allGrades.forEach((grade, index) => {\n      const studentId = currFilteredStudents[index];\n      const studentName = currStudentNames[index];\n      const data = createData(studentId, studentName, currClassId, currClassName, SEMESTER, grade);\n      studentData.push(data);\n    });\n  } */\n\n  function createData(\n    studentId: string,\n    studentName: string,\n    classId: string,\n    className: string,\n    semester: string,\n    finalGrade: number\n  ) {\n    return { studentId, studnetName: studentName, classId, className, semester, finalGrade };\n  }\n\n  return (\n    <div style={{ width: \"100vw\", height: \"100vh\" }}>\n      <Grid container spacing={2} style={{ padding: \"1rem\" }}>\n        <Grid xs={12} container alignItems=\"center\" justifyContent=\"center\">\n          <Typography variant=\"h2\" gutterBottom>\n            Spark Assessment\n          </Typography>\n        </Grid>\n        <Grid xs={12} md={4}>\n          <Typography variant=\"h4\" gutterBottom>\n            Select a class\n          </Typography>\n          <div style={{ width: \"100%\" }}>\n          <Select\n            fullWidth={true}\n            label=\"Class\"\n            value={currClassName}\n            onChange={(event) => {\n              const selectedClassName = event.target.value; // Get the selected class name\n              const selectedIndex = allClassNames.indexOf(selectedClassName); // Find the index\n\n              if (selectedIndex !== -1) {\n                setIsLoading(true);\n                setCurrClassId(allClassIds[selectedIndex]);\n                setCurrClassName(selectedClassName);\n              }\n            }}\n          >\n            {allClassNames.map((className, index) => (\n              <MenuItem key={index} value={className}>\n                {className}\n              </MenuItem>\n            ))}\n          </Select>\n          </div>\n        </Grid>\n        <Grid xs={12} md={8}>\n          <Typography variant=\"h4\" gutterBottom>\n            Final Grades\n          </Typography>\n          {isLoading ? (<div>Loading data...</div>) : (\"\")}\n          <GradeTable studentData={currData} />\n        </Grid>\n      </Grid>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}